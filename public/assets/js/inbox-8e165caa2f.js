function outputChatList(e,t,s){e.forEach((e=>{var a=createChatHtml(e,t);s.append(a)})),0==e.length&&s.append("<span class='noResults'>Nothing to show </span>")}function createChatHtml(e,t){var s=getChatName(e,t),a=getchatImageElements(e,t),n=getlatest(e.latestMessage);return`<a class='resultListItem ${!e.latestMessage||e.latestMessage.readBy.includes(t._id)?"":"active"}' href='/messages/${e._id}'>\n                ${a}\n            <div class="resultsDetailsContainer ellipsis">\n             <span class="heading ellipsis">${s}</span>\n             <span class="subText  ellipsis">${n}</span>\n\n            </div>\n           \n            </a>`}function getlatest(e){return null!=e?`${e.sender.name}: ${e.content}`:"New Chat"}function getChatName(e,t){var s=e.chatName;s||(s=getOtherChatUsers(e.users,t).map((e=>e.name)).join(", "));return s}function getOtherChatUsers(e,t){return 1==e.length?e:e.filter((e=>e._id!=t._id))}function getchatImageElements(e,t){var s=getOtherChatUsers(e.users,t),a="",n=getUserChatImagesElement(s[0]);return s.length>1&&(a="groupChatImage",n+=getUserChatImagesElement(s[1])),`<div class="resultsImageContainer ${a}">${n}</div>`}function getUserChatImagesElement(e){return e&&e.profilePic?`<img src="${e.profilePic}" alt="pic">`:alert("chutiya")}$(document).ready((()=>{$.ajax({url:"/old/oops",type:"post",success:e=>{outputChatList(e.results,e.userlog,$(".resultsContainer"))}})}));