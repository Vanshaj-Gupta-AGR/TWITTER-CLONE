function outputnoty(t,e){t.forEach((t=>{var n=createnoty(t);e.append(n)})),0==t.length&&e.append("<span class='noResults'> nothing to show </span>")}function createnoty(t){var e=t.userFrom,n=gettext(t);return`<a href="${`/users/profile/${e._id}`}" class="resultListItem notification ${t.opened?"":"active"}" data-id="${t._id}">\n            <div class="resultsImageContainer">\n                <img src="${e.profilePic}">\n               \n            </div>\n            <div class="resultsDetailsContainer ellipsis">\n            <span class="ellipsis">${n}</span>\n    </div>\n            </a>`}function gettext(t){var e,n=`${t.userFrom.name}`;return"retweet"==t.notificationType?e=`${n} retweeted one of your post`:"post liked"==t.notificationType&&(e=`${n} liked one of your post`),"post commented"==t.notificationType&&(e=`${n} replied to one  of your post`),"follow"==t.notificationType&&(e=`${n} followed you`),`<span class="ellipsis">${e}</span>`}function markasopened(t=null,e=null){null==e&&(e=()=>location.reload());var n=null!=t?`/notifications/${t}/mark`:"/notifications/mark";$.ajax({url:n,type:"put",success:()=>{e()}})}$(document).ready((()=>{$.get("/notifications/getall",(t=>{console.log(t),outputnoty(t,$(".resultsContainer"))}))})),$(document).on("click",".notification.active",(t=>{var e=$(t.target),n=e.data().id,o=e.attr("href");t.preventDefault();markasopened(n,(()=>window.location=o))})),$("#markNotificationAsread").click((()=>markasopened()));